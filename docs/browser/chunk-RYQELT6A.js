import{a as B}from"./chunk-UGEGDRMQ.js";import{a as j,b as F,d as V,j as N}from"./chunk-R4HYYWC6.js";import"./chunk-7FDKDFGO.js";import{l as z}from"./chunk-RINRWVMW.js";import"./chunk-S5G6C3XF.js";import{Aa as O,Ba as P,Ca as S,D as w,E as x,Ia as W,J as g,Ja as T,K as h,U as k,X as l,Y as u,Ya as E,Za as A,bb as L,fa as v,ha as s,ia as I,ja as b,ma as n,na as r,oa as c,ob as R,qb as y,ra as M,rb as D,ta as m,ua as p,y as C,za as a}from"./chunk-QPUKSS23.js";var $=e=>["/productdetails",e],q=()=>["/public/products"];function H(e,f){e&1&&(n(0,"div",16),c(1,"app-loading"),r())}function J(e,f){if(e&1){let t=M();n(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36),c(4,"img",37),r()(),n(5,"div",38)(6,"div",39)(7,"a",40),a(8),r(),n(9,"h4"),a(10,"Rate:"),n(11,"span",41),c(12,"i",42),a(13),r()(),n(14,"h4"),a(15,"Price:"),n(16,"span",41),a(17),r()(),n(18,"p"),a(19),n(20,"span"),a(21,"Available"),r()()()(),n(22,"div",43)(23,"div",44)(24,"button",45),m("click",function(){let i=g(t).$implicit,d=p(3);return h(d.addToCart(i._id))}),c(25,"i",46),a(26," ADD TO CART"),r(),n(27,"button",47),m("click",function(){let i=g(t).$implicit,d=p(3);return h(d.confirmRemove(i._id))}),c(28,"i",32),a(29," REMOVE"),r()()()()()}if(e&2){let t=f.$implicit;l(4),s("src",t==null?null:t.imageCover,k)("alt",t==null||t.category==null?null:t.category.name),l(3),s("routerLink",T(8,$,t._id)),l(),O(t.title),l(5),P(" ",t.ratingsAverage,""),l(4),P("EGP ",t.price,""),l(2),S("",(t==null||t.category==null?null:t.category.name)||"N/A"," | ",(t==null||t.brand==null?null:t.brand.name)||"N/A"," | ")}}function K(e,f){if(e&1){let t=M();n(0,"div",18),v(1,J,30,10,"div",28),n(2,"div",29)(3,"div",30)(4,"button",31),m("click",function(){g(t);let i=p(2);return h(i.confirmRemoveAll())}),c(5,"i",32),a(6," REMOVE ALL"),r()()()()}if(e&2){let t=p(2);l(),s("ngForOf",t.allWishlist)}}function Q(e,f){e&1&&(n(0,"div",48)(1,"div",49)(2,"p",50),a(3,"There are not products yet."),r(),n(4,"button",51),a(5,"Add your first product to favorit"),r()()()),e&2&&(l(4),s("routerLink",W(1,q)))}function X(e,f){if(e&1){let t=M();n(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div")(5,"button",21),m("click",function(){g(t);let i=p();return h(i.goBack())}),c(6,"i",22),r()(),n(7,"div",23)(8,"h3",24),a(9,"Favorite Products "),c(10,"i",25),r()()()(),v(11,K,7,1,"div",26)(12,Q,6,2,"div",27),r()()}if(e&2){let t=p();l(11),s("ngIf",t.allWishlist.length>0),l(),s("ngIf",t.allWishlist.length<=0)}}function Z(e,f){if(e&1&&c(0,"div",52),e&2){let t=p();b("show",t.showConfirmDialog)}}var G=(()=>{class e{constructor(t,o,i,d){this._WishlistService=t,this._ToastrService=o,this._CartService=i,this._GoBackService=d,this.allWishlist=[],this.isLoading=!0,this.showConfirmDialog=!1,this.pendingProductId=null,this.isRemoveAll=!1,this._WishlistService.getWishList().subscribe({next:_=>{console.log("wish list",_),this.isLoading=!1,this._WishlistService.numOfWishItem.next(_.count)},error:_=>{this.isLoading=!1}})}ngOnInit(){this.getWishList()}onModalClick(t){t.target.classList.contains("modal")&&this.handleCancel()}confirmRemove(t){this.pendingProductId=t,this.isRemoveAll=!1,this.showConfirmDialog=!0}confirmRemoveAll(){this.isRemoveAll=!0,this.showConfirmDialog=!0}handleConfirm(){this.isRemoveAll?this.removeAllFav():this.pendingProductId&&this.removeItem(this.pendingProductId),this.closeConfirmDialog()}handleCancel(){this.closeConfirmDialog()}closeConfirmDialog(){this.showConfirmDialog=!1,this.pendingProductId=null,this.isRemoveAll=!1}getWishList(){this._WishlistService.getWishList().subscribe({next:t=>{this.allWishlist=t.data},error:t=>{console.log(t)}})}removeItem(t){this._WishlistService.removeWishItem(t).subscribe({next:o=>{this.allWishlist=o.data,this.getWishList(),this._WishlistService.numOfWishItem.next(o.data.length)},error:o=>{console.log(o)}})}removeAllFav(){this.allWishlist.map(t=>this.removeItem(t._id)),this._WishlistService.numOfWishItem.next(0)}addToCart(t){let o=this._ToastrService.info("Adding your product to cart...","",{disableTimeOut:!0});this._CartService.addToCart(t).subscribe({next:i=>{this._CartService.numOfCartItem.next(i.numOfCartItems),this._ToastrService.clear(o.toastId),this._ToastrService.success("Product added to cart!"),this.removeItem(t)},error:i=>{this._ToastrService.clear(o.toastId),this._ToastrService.error("Failed to add product to cart.")}})}goBack(){this._GoBackService.goBack()}static{this.\u0275fac=function(o){return new(o||e)(u(F),u(z),u(j),u(B))}}static{this.\u0275cmp=w({type:e,selectors:[["app-wishlist"]],decls:21,vars:12,consts:[[1,"wishlist","py-5"],["class","col-12 text-center",4,"ngIf"],["class","container p-3 rounded-4",4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","confirmationModalLabel","aria-hidden","true",1,"modal","animate__animated",3,"click"],["role","document",1,"modal-dialog","modal-dialog-centered","animate__animated"],[1,"modal-content"],[1,"modal-header","border-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center","pb-5"],[1,"exclamation-icon","mb-4"],[1,"fas","fa-exclamation"],["id","confirmationModalLabel",1,"modal-title","mb-3"],[1,"mt-4"],["type","button",1,"btn-confirm","me-2",3,"click"],["type","button",1,"btn-cancel",3,"click"],["class","modal-backdrop fade",3,"show",4,"ngIf"],[1,"col-12","text-center"],[1,"container","p-3","rounded-4"],[1,"row"],[1,"col-md-12"],[1,"head","d-flex"],[1,"arrow-button","d-flex","justify-content-center","align-items-center",3,"click"],[1,"fa-solid","fa-arrow-left","font-md"],[1,"text","d-flex","align-items-center"],[1,"my-1","mx-2","font-bold","font-lg","second-color"],[1,"fa-brands","fa-gratipay","main-color"],["class","row",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["class","col-md-12 py-3 after-product position-relative",4,"ngFor","ngForOf"],[1,"col-md-12","d-flex","justify-content-center","align-items-center"],[1,"my-3"],[1,"remove-all",3,"click"],[1,"fa-solid","fa-trash-can"],[1,"col-md-12","py-3","after-product","position-relative"],[1,"row","align-items-center"],[1,"col-md-2","col-12","d-flex","justify-content-end"],[1,"image","overflow-hidden","w-75"],[1,"w-100","rounded-5","img-border",3,"src","alt"],[1,"col-md-6","col-12","d-flex","align-items-center"],[1,"info","w-100"],[1,"font-bold","font-md","second-color",3,"routerLink"],[1,"ms-2"],[1,"fa-solid","fa-star","rating-color"],[1,"col-md-4","col-12","d-flex","justify-content-end","align-items-center"],[1,"btns"],[1,"cart-btn","font-sm","mx-1",3,"click"],[1,"fa-solid","fa-cart-plus"],[1,"remove-btn","font-sm","mx-1",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],[1,"my-5"],[1,"text-center"],[1,"btn-add-product-fav",3,"routerLink"],[1,"modal-backdrop","fade"]],template:function(o,i){o&1&&(n(0,"section",0),v(1,H,2,0,"div",1)(2,X,13,2,"div",2),n(3,"div",3),m("click",function(_){return i.onModalClick(_)}),n(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),m("click",function(){return i.handleCancel()}),r()(),n(8,"div",8)(9,"div",9),c(10,"i",10),r(),n(11,"h5",11),a(12,"Confirm Removal"),r(),n(13,"p"),a(14),r(),n(15,"div",12)(16,"button",13),m("click",function(){return i.handleConfirm()}),a(17,"Yes, Remove"),r(),n(18,"button",14),m("click",function(){return i.handleCancel()}),a(19,"Cancel"),r()()()()()(),v(20,Z,1,2,"div",15),r()),o&2&&(l(),s("ngIf",i.isLoading),l(),s("ngIf",!i.isLoading),l(),I("display",i.showConfirmDialog?"block":"none"),b("show",i.showConfirmDialog)("animate__fadeIn",i.showConfirmDialog),l(),b("animate__zoomIn",i.showConfirmDialog),l(10),O(i.isRemoveAll?"Are you sure you want to remove all items from your wishlist?":"Are you sure you want to remove this item from your wishlist?"),l(6),s("ngIf",i.showConfirmDialog))},dependencies:[E,A,R,V],styles:['.wishlist[_ngcontent-%COMP%]{margin:100px 0 170px}.container[_ngcontent-%COMP%]{background-color:#f0f3f2}.arrow-button[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff;border:none;border-radius:50%;width:40px;height:40px;transition:all .4s}.arrow-button[_ngcontent-%COMP%]:hover{transform:translate(-10px) scale(1.1)}.main-color[_ngcontent-%COMP%]{color:var(--main-color)}.second-color[_ngcontent-%COMP%]{color:var(--second-color)}.img-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.0352941176)}.wishlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .4s;font-size:16px}.wishlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--main-color)}.wishlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:300;font-size:14px}.wishlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-color);font-weight:500}.wishlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.5;font-size:12px;margin-bottom:0}.wishlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:1!important;color:#22c55e}.cart-btn[_ngcontent-%COMP%], .btn-add-product-fav[_ngcontent-%COMP%]{border:none;background-color:var(--main-color);border-radius:20px;padding:8px 15px;color:#fff;transition:all .3s;font-size:14px}.cart-btn[_ngcontent-%COMP%]:hover, .btn-add-product-fav[_ngcontent-%COMP%]:hover{background-color:#02ade3}.cart-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .remove-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .remove-all[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{animation:tilt .5s infinite ease-in-out}.remove-btn[_ngcontent-%COMP%], .remove-all[_ngcontent-%COMP%]{border:none;background-color:#dc2626;border-radius:20px;padding:8px 15px;color:#fff;transition:all .3s;font-size:14px}.remove-btn[_ngcontent-%COMP%]:hover, .remove-all[_ngcontent-%COMP%]:hover{background-color:#ef4444}.after-product[_ngcontent-%COMP%]:after{content:"";width:90%;height:2px;background-color:#e5e7eb;position:absolute;top:100%;left:50%;transform:translate(-50%)}.modal[_ngcontent-%COMP%]{display:none;transition:all .3s ease}.modal.show[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeIn .3s ease forwards}.modal-dialog[_ngcontent-%COMP%]{transform:scale(.7);opacity:0;transition:all .3s ease}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:scale(1);opacity:1;animation:_ngcontent-%COMP%_zoomIn .3s ease forwards}.modal-content[_ngcontent-%COMP%]{border-radius:15px;border:none}.modal-backdrop[_ngcontent-%COMP%]{transition:opacity .3s ease}.modal-backdrop.show[_ngcontent-%COMP%]{opacity:.5}.exclamation-icon[_ngcontent-%COMP%]{width:60px;height:60px;background-color:#fff;border:2px solid var(--main-color);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto;animation:_ngcontent-%COMP%_bounceIn .5s ease .3s both}.exclamation-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--main-color);font-size:30px}.modal-title[_ngcontent-%COMP%]{color:#333;font-size:24px;font-weight:600;animation:_ngcontent-%COMP%_slideInDown .5s ease .4s both}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px;animation:_ngcontent-%COMP%_slideInUp .5s ease .5s both}.modal-body[_ngcontent-%COMP%]   .mt-4[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease .6s both}.btn-confirm[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff;border:none;padding:8px 24px;border-radius:20px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s}.btn-cancel[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:8px 24px;border-radius:20px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s}.btn-confirm[_ngcontent-%COMP%]:hover{background-color:#02ade3}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#5a6268}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_bounceIn{0%{transform:scale(.3);opacity:0}50%{transform:scale(1.1)}70%{transform:scale(.9)}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_slideInDown{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.wishlist[_ngcontent-%COMP%]{margin:60px 0 100px}.container[_ngcontent-%COMP%]{padding:10px!important}.wishlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.wishlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:12px;margin-bottom:5px}.wishlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.cart-btn[_ngcontent-%COMP%], .remove-btn[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px;margin:5px 2px}.btns[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}}@media (max-width: 576px){.col-md-2[_ngcontent-%COMP%]{justify-content:center!important;margin-bottom:15px}.col-md-6[_ngcontent-%COMP%]{text-align:center}.col-md-4[_ngcontent-%COMP%]{justify-content:center!important}.image.w-75[_ngcontent-%COMP%]{width:120px!important}.wishlist[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin:10px 0}}']})}}return e})();var tt=[{path:"",redirectTo:"wishlist",pathMatch:"full"},{path:"wishlist",component:G},{path:"**",component:D}],U=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=x({type:e})}static{this.\u0275inj=C({imports:[y.forChild(tt),y]})}}return e})();var vt=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=x({type:e})}static{this.\u0275inj=C({imports:[L,U,N]})}}return e})();export{vt as WishlistModule};
