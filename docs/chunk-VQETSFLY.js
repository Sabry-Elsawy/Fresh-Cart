import{a as R}from"./chunk-UGEGDRMQ.js";import{d as D,h as G,j as $}from"./chunk-R4HYYWC6.js";import"./chunk-7FDKDFGO.js";import"./chunk-RINRWVMW.js";import{o as U,q as B}from"./chunk-S5G6C3XF.js";import{A as I,Aa as m,Ba as s,D as S,E as x,Ia as v,J as E,K as w,Na as M,Oa as P,U as f,X as a,Y as O,Ya as A,Za as T,bb as F,db as j,fa as _,ha as d,la as C,ma as t,na as i,oa as c,ob as L,qb as h,ra as k,rb as N,ta as z,ua as p,x as y,y as u,za as o}from"./chunk-QPUKSS23.js";var H=(()=>{class n{constructor(e){this._HttpClient=e}getUserOrders(e){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/orders/user/${e}`)}static{this.\u0275fac=function(r){return new(r||n)(I(j))}}static{this.\u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Q=()=>["/public/products"];function K(n,l){n&1&&(t(0,"div",2),c(1,"app-loading"),i())}function W(n,l){if(n&1&&(t(0,"div",40)(1,"div",14)(2,"div",41)(3,"div",42),c(4,"img",43),i()(),t(5,"div",20)(6,"div",44)(7,"a",45),o(8),M(9,"cuttext"),i(),t(10,"p",46),o(11,"Price: "),t(12,"span",35),o(13),i()(),t(14,"p",46),o(15,"Quantity: "),t(16,"span",35),o(17),i()(),t(18,"p",47),o(19),i(),t(20,"p",47),o(21),i()()()()()),n&2){let e=p(2).index,r=p().$implicit;a(4),d("src",r.cartItems[e].product.imageCover,f)("alt",r.cartItems[e].product.title),a(4),s(" ",P(9,7,r.cartItems[e].product.title,2)," "),a(5),s("EGP ",r.cartItems[e].price,""),a(4),m(r.cartItems[e].count),a(2),s("",r.cartItems[e].product.category.name," "),a(2),m(r.cartItems[e].product.brand.name)}}function X(n,l){if(n&1&&(t(0,"div",40)(1,"div",14)(2,"div",41)(3,"div",48),c(4,"img",43),i()(),t(5,"div",20)(6,"div",44)(7,"a",45),o(8),M(9,"cuttext"),i(),t(10,"p",46),o(11,"Price: "),t(12,"span",35),o(13),i()(),t(14,"p",46),o(15,"Quantity: "),t(16,"span",35),o(17),i()(),t(18,"p",47),o(19),i(),t(20,"p",47),o(21),i()()()()()),n&2){let e=p(2).index,r=p().$implicit;a(4),d("src",r.cartItems[e+1].product.imageCover,f)("alt",r.cartItems[e+1].product.category.name),a(4),s(" ",P(9,7,r.cartItems[e+1].product.title,2)," "),a(5),s("EGP ",r.cartItems[e+1].price,""),a(4),m(r.cartItems[e+1].count),a(2),m(r.cartItems[e+1].product.category.name),a(2),s("",r.cartItems[e+1].product.brand.name," ")}}function Y(n,l){if(n&1&&(t(0,"div",38),_(1,W,22,10,"div",39)(2,X,22,10,"div",39),i()),n&2){let e=p().index,r=p().$implicit;a(),d("ngIf",r.cartItems[e]),a(),d("ngIf",r.cartItems[e+1])}}function Z(n,l){if(n&1&&(t(0,"div"),_(1,Y,3,2,"div",37),i()),n&2){let e=l.index;a(),d("ngIf",e%2===0)}}function tt(n,l){if(n&1&&(t(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"div")(5,"p",16),o(6,"Transaction Number: "),t(7,"span",17),o(8),i()()()(),t(9,"div",15)(10,"div")(11,"p",16),o(12,"Placed on: "),t(13,"span",17),o(14),i()()()(),t(15,"div",15)(16,"div")(17,"p",16),o(18,"Payment: "),t(19,"span",17),o(20),i()()()(),t(21,"div",15)(22,"div")(23,"button",18),o(24,"Add New Items"),i()()()()(),t(25,"div",19)(26,"div",14)(27,"div",20)(28,"div",21),_(29,Z,2,1,"div",22),i()(),t(30,"div",23)(31,"div",24)(32,"div",25),c(33,"div",26),t(34,"div",27)(35,"div",28)(36,"div",29),c(37,"div",30),i(),t(38,"span",31),o(39,"Ordered"),i()(),t(40,"div",28)(41,"div",32),c(42,"div",30),i(),t(43,"span",31),o(44,"Confirmed"),i()(),t(45,"div",28)(46,"div"),c(47,"div",30),i(),t(48,"span",31),o(49,"Out for delivery"),i()(),t(50,"div",28)(51,"div"),c(52,"div",30),i(),t(53,"span",31),o(54,"Delivered"),i()(),t(55,"div",28)(56,"div"),c(57,"div",30),i(),t(58,"span",31),o(59,"Paid"),i()()()()()(),t(60,"div",33)(61,"div",34)(62,"p",16),o(63,"Products Quantity: "),t(64,"span",35),o(65),i()(),t(66,"p",16),o(67,"Shipping Price: "),t(68,"span",35),o(69),i()(),t(70,"p",16),o(71,"Taxes: "),t(72,"span",35),o(73),i()(),t(74,"p",36),o(75,"Total Order Price: "),t(76,"span",35),o(77),i()()()()()()()),n&2){let e=l.$implicit;a(8),s("#",e.id,""),a(6),m(e.createdAt),a(6),m(e.paymentMethodType),a(3),d("routerLink",v(18,Q)),a(6),d("ngForOf",e.cartItems),a(17),C("status-dot ",e.isDelivered?"active":"inactive",""),a(5),C("status-dot ",e.isDelivered?"active":"inactive",""),a(5),C("status-dot ",e.isPaid?"active":"inactive",""),a(9),m(e.cartItems.length),a(4),s("EGP ",e.shippingPrice,""),a(4),s("EGP ",e.taxPrice,""),a(4),s("EGP ",e.totalOrderPrice,"")}}function et(n,l){n&1&&(t(0,"div",49)(1,"div")(2,"p"),o(3,"There are no orders yet."),i(),t(4,"button",50),o(5,"Add your first order"),i()()()),n&2&&(a(4),d("routerLink",v(1,Q)))}function nt(n,l){if(n&1){let e=k();t(0,"section",3)(1,"div",4)(2,"div")(3,"button",5),z("click",function(){E(e);let g=p();return w(g.goBack())}),c(4,"i",6),i()(),t(5,"div",7)(6,"h3",8),o(7,"Track your orders "),c(8,"i",9),i()()(),_(9,tt,78,19,"div",10)(10,et,6,2,"div",11),i()}if(n&2){let e=p();a(9),d("ngForOf",e.userAllOrders),a(),d("ngIf",e.userAllOrders.length<=0)}}var V=(()=>{class n{constructor(e,r,g){this._OrdersService=e,this._AuthService=r,this._GoBackService=g,this.allOrders=[],this.userAllOrders=[],this.userId="",this.isLoading=!0}ngOnInit(){this.decodeUserData(),this.userId&&this.getUserOrders(this.userId)}getUserOrders(e){this._OrdersService.getUserOrders(e).subscribe({next:r=>{this.userAllOrders=r,this.isLoading=!1},error:r=>{this.isLoading=!1}})}decodeUserData(){this.decodeduserToken=this._AuthService.decodeUserData(),this.decodeduserToken&&this.decodeduserToken.id?this.userId=this.decodeduserToken.id:this.userId=null}goBack(){this._GoBackService.goBack()}static{this.\u0275fac=function(r){return new(r||n)(O(H),O(B),O(R))}}static{this.\u0275cmp=S({type:n,selectors:[["app-all-orders"]],decls:2,vars:2,consts:[["class","col-12 text-center my-5 py-5",4,"ngIf"],["class","container py-5 my-5",4,"ngIf"],[1,"col-12","text-center","my-5","py-5"],[1,"container","py-5","my-5"],[1,"d-flex"],[1,"arrow-button","d-flex","justify-content-center","align-items-center",3,"click"],[1,"fa-solid","fa-arrow-left","font-md"],[1,"text","d-flex","align-items-center"],[1,"my-1","mx-2","font-bold","font-lg","second-color"],[1,"fa-solid","fa-truck-fast","main-color","ms-1"],["class","single-order p-4 my-4",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"single-order","p-4","my-4"],[1,"head"],[1,"row"],[1,"col-md-3"],[1,"font-bold","second-color"],[1,"font-no-bold","opacity-75"],[1,"add-items",3,"routerLink"],[1,"content","mt-5"],[1,"col-md-8"],[1,"single-product"],[4,"ngFor","ngForOf"],[1,"col-md-2"],[1,"status-order-wrapper"],[1,"status-order"],[1,"status-line"],[1,"status-steps"],[1,"status-step"],[1,"status-dot","ordered"],[1,"inner-dot"],[1,"status-label"],[1,"status-dot","confirmed"],[1,"col-md-12"],[1,"total-price","mt-3"],[1,"main-color"],[1,"font-bold","second-color","total"],["class","row g-2",4,"ngIf"],[1,"row","g-2"],["class","col-md-6",4,"ngIf"],[1,"col-md-6"],[1,"col-md-4"],[1,"image","my-2"],[1,"w-100",3,"src","alt"],[1,"info","d-flex","flex-column"],[1,"font-simibold","second-color"],[1,"my-1","second-color"],[1,"my-1","opacity-75"],[1,"image"],[1,"empty-state"],[1,"btn-add-product-fav",3,"routerLink"]],template:function(r,g){r&1&&_(0,K,2,0,"div",0)(1,nt,11,2,"section",1),r&2&&(d("ngIf",g.isLoading),a(),d("ngIf",!g.isLoading))},dependencies:[A,T,L,D,G],styles:["[_ngcontent-%COMP%]:root{--status-circle-size: 25px;--status-line-height: 200px;--status-spacing: 50px}.arrow-button[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff;border:none;border-radius:50%;width:40px;height:40px;transition:all .4s}.arrow-button[_ngcontent-%COMP%]:hover{transform:translate(-10px) scale(1.1)}.single-order[_ngcontent-%COMP%]{border:1px dotted rgba(137,140,144,.8);border-radius:20px;margin:1rem 0}.single-order[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:1px solid rgba(203,213,225,.8)}.single-order[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:.5rem}.single-order[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]{font-size:16px;border:none;background-color:var(--main-color);padding:5px 10px;color:#fff;border-radius:5px;transition:all .4s;width:100%;margin-top:10px}.single-order[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]:hover{background-color:#02ade3}.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;transition:all .3s}.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--main-color)!important;cursor:pointer}.content[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:.5rem}.status-order-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;padding:1rem 0}.status-order[_ngcontent-%COMP%]{position:relative;width:fit-content;min-height:250px;padding:0 2rem}.status-order[_ngcontent-%COMP%]   .status-line[_ngcontent-%COMP%]{position:absolute;width:2px;height:85%;background-color:#e2e8f0;left:40px;top:0;z-index:1}.status-order[_ngcontent-%COMP%]   .status-steps[_ngcontent-%COMP%]{position:relative;z-index:2}.status-order[_ngcontent-%COMP%]   .status-step[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem;position:relative}.status-order[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;background-color:#fff;border:2px solid;display:flex;align-items:center;justify-content:center;margin-right:1rem;position:relative}.status-order[_ngcontent-%COMP%]   .status-dot.ordered[_ngcontent-%COMP%], .status-order[_ngcontent-%COMP%]   .status-dot.confirmed[_ngcontent-%COMP%]{border-color:var(--main-color)}.status-order[_ngcontent-%COMP%]   .status-dot.ordered[_ngcontent-%COMP%]   .inner-dot[_ngcontent-%COMP%], .status-order[_ngcontent-%COMP%]   .status-dot.confirmed[_ngcontent-%COMP%]   .inner-dot[_ngcontent-%COMP%]{background-color:var(--main-color)}.status-order[_ngcontent-%COMP%]   .status-dot.active[_ngcontent-%COMP%]{border-color:var(--main-color)}.status-order[_ngcontent-%COMP%]   .status-dot.active[_ngcontent-%COMP%]   .inner-dot[_ngcontent-%COMP%]{background-color:var(--main-color)}.status-order[_ngcontent-%COMP%]   .status-dot.inactive[_ngcontent-%COMP%]{border-color:#f87171}.status-order[_ngcontent-%COMP%]   .status-dot.inactive[_ngcontent-%COMP%]   .inner-dot[_ngcontent-%COMP%]{background-color:#f87171}.status-order[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]   .inner-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.status-order[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]{color:#475569;font-size:14px}.status-item[_ngcontent-%COMP%]{position:relative;width:var(--status-circle-size);height:var(--status-circle-size);border-radius:50%;background-color:#fff;border:1px solid var(--main-color);display:flex;align-items:center;margin-bottom:var(--status-spacing)}.status-item[_ngcontent-%COMP%]   .order-badge[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50%;position:relative}.status-item[_ngcontent-%COMP%]   .order-badge[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:30px;white-space:nowrap;margin:0;font-size:14px;color:var(--second-color)}.border-success[_ngcontent-%COMP%]{border-color:#22c55e!important}.bg-success[_ngcontent-%COMP%]{background-color:#22c55e!important}.border-success-order[_ngcontent-%COMP%]{border-color:var(--main-color)!important}.bg-success-order[_ngcontent-%COMP%]{background-color:var(--main-color)!important}.border-fail[_ngcontent-%COMP%]{border-color:#f87171!important}.bg-fail[_ngcontent-%COMP%]{background-color:#f87171!important}.empty-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10rem 0!important;text-align:center}.empty-state[_ngcontent-%COMP%]   .btn-add-product-fav[_ngcontent-%COMP%]{border:none;background-color:var(--main-color);border-radius:20px;padding:8px 15px;color:#fff;transition:all .3s;width:100%;margin:10px 0}.empty-state[_ngcontent-%COMP%]   .btn-add-product-fav[_ngcontent-%COMP%]:hover{background-color:#02ade3}@media (max-width: 768px){[_ngcontent-%COMP%]:root{--status-circle-size: 22px;--status-line-height: 180px;--status-spacing: 45px}.container[_ngcontent-%COMP%]{width:100%;padding:10px}.single-order[_ngcontent-%COMP%]{padding:15px!important}.single-order[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.image[_ngcontent-%COMP%]{margin-bottom:15px;text-align:center}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;margin:0 auto}.info[_ngcontent-%COMP%]{text-align:center}.status-order[_ngcontent-%COMP%]{transform:scale(.9);margin:0 auto}.status-order[_ngcontent-%COMP%]   .order-badge[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;left:25px}.col-md-2[_ngcontent-%COMP%]{width:100%;margin:20px 0}}@media (max-width: 576px){[_ngcontent-%COMP%]:root{--status-circle-size: 20px;--status-line-height: 160px;--status-spacing: 40px}.single-order[_ngcontent-%COMP%]{padding:10px!important}.single-order[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.single-order[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.single-order[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]{font-size:14px;padding:4px 8px}.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.status-order[_ngcontent-%COMP%]{transform:scale(.8)}.status-order[_ngcontent-%COMP%]   .order-badge[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;left:22px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px}.arrow-button[_ngcontent-%COMP%]{width:35px;height:35px}}@media (max-width: 375px){[_ngcontent-%COMP%]:root{--status-circle-size: 18px;--status-line-height: 140px;--status-spacing: 35px}.single-order[_ngcontent-%COMP%]{padding:8px!important}.single-order[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.single-order[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.status-order[_ngcontent-%COMP%]{transform:scale(.7)}.status-order[_ngcontent-%COMP%]   .order-badge[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;left:20px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px}.arrow-button[_ngcontent-%COMP%]{width:30px;height:30px}}"]})}}return n})();var it=[{path:"",redirectTo:"orders",pathMatch:"full"},{path:"orders",component:V},{path:"**",component:N}],q=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=x({type:n})}static{this.\u0275inj=u({imports:[h.forChild(it),h]})}}return n})();var Pt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=x({type:n})}static{this.\u0275inj=u({imports:[F,q,U,$]})}}return n})();export{Pt as OrdersModule};
